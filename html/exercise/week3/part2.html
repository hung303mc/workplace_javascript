<!DOCTYPE html>
<html>
<head>
  <title>game extra face </title>
  <h1>Matching Game</h1>
  Click on the extra smiling face on the left
  <script>
  var totalEmotion = 5;

  function start_game(){
    var topPos = 0, leftPos=0;
    var imageId = 0;
    var countEmotion = totalEmotion;
    var theBody = document.getElementById("theBody");
    while(countEmotion!=0){    
      /* Prepare some atribute */
      var topPos = Math.random()*400;
      topPos = 100 + Math.floor(topPos);
      var leftPos = Math.random()*400;
      leftPos = Math.floor(leftPos);

      countEmotion--;

      /* Generate left image */
      var leftImg = document.createElement("img");
      if(countEmotion == 0){
        // leftImg.onclick = GamePass;
      }
      else{
        // leftImg.onclick = GameOver;
      }
      leftImg.src = "http://home.cse.ust.hk/~rossiter/mooc/matching_game/smile.png";
      leftImg.id = "leftImg"+imageId;
      leftImg.style.top = topPos+"px";
      leftImg.style.left = leftPos+"px";
      theBody.appendChild(leftImg);    

      /* check whether is the last image */
      if(countEmotion == 0){break;}
      imageId++;  
      }
  }

  function GamePass(){
    GameRemove();
    totalEmotion += 2;
    start_game();
  }

  function GameRemove(){
    var imageId = 0;
    var countEmotion = totalEmotion;
    while(countEmotion!=0){
      var leftImg = document.getElementById("leftImg"+imageId);
      theBody.removeChild(leftImg);
      countEmotion--;
      if(countEmotion == 0){break;}
      var rightImg = document.getElementById("rightImg"+imageId);
      theBody.removeChild(rightImg);    
      imageId++;
    }
    var thisDiv = document.getElementById("verDiv");
    theBody.removeChild(thisDiv);
  }

  function GameOver(){
    GameRemove();
    alert("gameOver");
  }    
  </script>
  <style>
    div{
      position: absolute;
      border-left: 1px solid #000;
      height: 500px;
      margin-left: 500px;
    }
    img{
      position: absolute;
    }
  </style>
</head>
<body id="theBody" onload="start_game()">
<body id="theBody">
<div></div>
</body>
</html>